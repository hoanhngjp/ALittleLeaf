<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://kit.fontawesome.com/39b6b90061.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="~/css/header.css">
    <link rel="stylesheet" href="~/css/footer.css">
    <link rel="stylesheet" href="~/css/cart-search.css">
    @await RenderSectionAsync("Styles", required: false)
    <title>@ViewBag.Title</title>
    <link rel="icon" type="image/x-icon" href="~/img/footerLogo.webp">
    <script src="~/js/showCartSearch.js" defer></script>
    <script src="~/js/showSubMenu.js" defer></script>
    @await RenderSectionAsync("HeadScripts", required: false)
</head>
<body>
    <div id="main-body">
        @if (TempData["SuccessMessage"] != null)
        {
            <style>
                .alert-success-floating {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background-color: #4CAF50; /* Màu xanh lá */
                    color: white;
                    padding: 15px 25px;
                    border-radius: 5px;
                    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                    z-index: 9999;
                    opacity: 1;
                    transition: opacity 0.5s ease-out;
                    font-family: Arial, sans-serif;
                    font-size: 16px;
                }
            </style>
            <div id="msgAlert" class="alert-success-floating">
                <ion-icon name="checkmark-circle-outline" style="vertical-align: middle; margin-right: 5px;"></ion-icon>
                @TempData["SuccessMessage"]
            </div>

            <script>
                // Tự động ẩn thông báo sau 3 giây
                setTimeout(function() {
                    var msg = document.getElementById('msgAlert');
                    if (msg) {
                        msg.style.opacity = '0';
                        setTimeout(function() { msg.remove(); }, 500); // Xóa khỏi DOM sau khi mờ dần
                    }
                }, 3000);
            </script>
        }
        <!--------------------------------------------HEADER----------------------------------------------------->
        @Html.Partial("_Header");
        <!--------------------------------------------CONTENT----------------------------------------------------->
        @RenderBody()
        <!--------------------------------------------FOOTER----------------------------------------------------->
        @Html.Partial("_Footer");
    </div>
    @Html.Partial("_SideNav");

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="~/js/site-ajax.js" defer></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>